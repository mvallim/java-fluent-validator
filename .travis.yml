language: java

addons:
  sonarcloud:
    organization: "mvallim"
    token:
      secure: "GrnrITVzRfR09DN7n5hoJ+OJcXqXL77Sp2/rhtIUqDDDmiA9c5nhaKLeS+GUnWHLtnQsa/UiKMHOSGPob1DZxpuvIxLOvlBBjkwwnLQ5PBCcD0ZdOBHqT+FeeLJpnNqTMrMOnqTgvI35u7NqJPzUyJSdYopyxM7ZU7T4+Jles9FG4Idt6ORLfp4KdXLvzXvGf1Qc0KNb11125f8oYlSPMUUwRZMc+BdrLABAq+OMBN0zMOCQfConKmwJAH6sxxmsmmdhhQ/ZclnG8TgucssRlJKQ50i6SND4gtbBl+yTsKWBZ5T10ADpNkXPQW3DJbMfnFe7PrNEWJtJ6UOy9Xm5Fo9GqIzUp+YEEDeQcKE1bIh36+4W6rmkyTPEykghzGCFCGECBrHMmg9J/hnY4Bo1I2/GnArBeQwmVqwI1xJOr+QtUqbyAscoAtQmFXPhcBo4sEXlbb3SZwPpnV4evUKt+EkmBlVWwJEYV+OHLlUQci458KA30dcPr/6cXWlk9h2Kk6iVPeLD1YRXmfE5oVLHij9PdTTeezykum1NKSIcqjs3ajDamX1YUU4olnZ7+GeE2tAMHxkNRV2Y8oGiAsUeEkxkEKDf5+BZUddnW2mLWIz+en1jdVotiHHlB3XZkWrufvq5yZJhHMr1V4lUtMoFKWbofw3plwoPBxWy/DJRvnc="

cache:
  directories:
  - "$HOME/.cache"

script:
  - mvn clean compile
  - mvn test

install:
  - git fetch --unshallow

after_success:
  - mvn clean test jacoco:report org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.projectKey=java-fluent-validator

